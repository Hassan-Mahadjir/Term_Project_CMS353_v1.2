<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../static/css/Instructor.css">
    <title>Group Channel</title>
    <style >
        body {
            overflow:hidden;
            
        }
    </style>
</head>
<body >
    <header>
        <div class="up-header">
            <div class="d-flex flex-column flex-md-row align-items-center ">
                <nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
                </nav>
               
            </div>
        </div>
    </header>
    <main>
        <div class="container-fluid ">
            <div class="row">
                
                <div class="col-3 bg-light border-right " style="height: 95vh;"> 
                    <div class="container text-center">
                        <div class="row align-items-start">
                            <div class="d-flex" style="height: 10vh;"> </div>
                            <div class="text-center mb-3" ><img class=" mb-4"  src="../static/assets/book-icon1.png"  alt="" width="100" height="100"><h3 class="text-center py-3">{{group|decrypt(key)}}</h3> 
                            </div>
                            <hr>
                        </div>
                        <div class="row align-items-center">
                            <h5 class="text-center py-3 ">Channels</h5>
                            <ul class="list-group list-group-flush">
                                {%for channel in channels%}
                                <button class="btn btn-primary  mb-2"><a href="{{url_for('studentAnnouncements', ch_id = channel.ch_id, group_id = channel.group_id)}}" style="color: white; text-decoration: none;">{{channel.ch_name|decrypt(key)}}</a></button>
                                {%endfor%}
                            </ul>
                        </div>
                    </div>
                    <a class="nav-link" href="{{url_for('logout')}}"><button class="btn btn-outline-danger rounded-pill px-3 w-20 btn-sm" style="position: fixed; bottom: 20px; color: red; border-color: red;">Log out</button></a>
                </div>
                <div class="col-9 d-flex flex-column " style="height: 95vh; padding: 0;">
                     <!-- Added padding: 0; to remove the space between the right side and the left side and the window -->
                     
                    <div class="d-flex align-items-center justify-content-between  p-3 bg-light">
                        <h4 class="text-black">{{current_ch_name|decrypt(key)}}</h4>
                    </div>
                    <div class="p-3 flex-grow-1 overflow-auto w-90"> <!-- Added flex-grow-1 overflow-auto to make the chat area fill the remaining space and scrollable -->
                        
                        <!-- Chat bubbles -->
                        {% for announcement in announcements%}
                        <div class="card mb-3">
                            <div class="card-body" >
                                <h5 class="card-title">{{announcement.ann_title|decrypt(key)}}</h5>
                                <h6 class="card-title">{{announcement.ann_date}}</h6>

                                <p class="card-text">{{announcement.ann_body|decrypt(key)}}</p>
                            </div>
                        </div>
                        {%endfor%}
                    </div>
                    <!-- Add announcement button and input -->
                    <form action="", method="post">
                        <div class="d-flex flex-column align-items-center justify-content-center bg-light p-3" style="margin-bottom: 20px;">
                            <!-- This div will be at the bottom of the flex container -->
                            
                            <div class="d-flex align-items-center mb-2">
                                <input name="title" type="text" class="form-control " style="width: 900px; margin-right: 41px; "  placeholder="Enter announcement title">
                                
                            </div>
                            
                            <div class="d-flex align-items-center mb-2 ">
                                <input name="body" type="text" class="form-control" style="width: 900px;" placeholder="Enter another announcement text">
                                <button class="btn btn-primary" style="margin-left: 10px;">></button>
                                <!-- Add any additional elements here -->
                            </div>
                        </div>
                    </form>
                    
                </div>
            </div>
        </div>
    </main>
</body>
</html>